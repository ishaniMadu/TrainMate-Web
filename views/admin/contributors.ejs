<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->


<head>
    <% include static/head.ejs %>

    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script src="http://trainmate18.azurewebsites.net:80/socket.io/socket.io.js"></script>
    <script>
    function initSocketIO() {
        iosocket = io.connect();

        iosocket.on('updates', function(receivedData) {

            var arr = Object.values(receivedData);

            if($('#'+arr[0]).length==0){
                add(arr[0],arr[1],arr[2],arr[3]);
            }

            //update(arr[0],arr[2],arr[3]);

        });

    }

    window.onload = function() {
        initSocketIO();

    };
    </script>
</head>

<body>
    <!-- begin #page-loader -->
    <div id="page-loader" class="fade in"><span class="spinner"></span></div>
    <!-- end #page-loader -->

    <!-- begin #page-container -->
    <div id="page-container" class="fade page-sidebar-fixed page-header-fixed">
        <!-- begin #header -->
        <% include static/header.ejs %>
        <!-- end #header -->

        <!-- begin #sidebar -->
        <% include static/navbar.ejs %>
        <!-- end #sidebar -->

        <!-- begin #content -->
        <div id="content" class="content">

            <!-- begin breadcrumb -->
            <ol class="breadcrumb pull-right">
                <li><a href="">Home</a></li>
                <li><a href="">Sample</a></li>
                <li class="active">Train Lines</li>
            </ol>
            <!-- end breadcrumb -->

            <h1 id="js" class="page-header">Contributors</h1>
            <div class="row">
                <!-- begin col-12 -->
                <div class="col-xs-12 col-sm-12 col-md-12">
                    <!-- begin panel -->
                    <div class="panel panel-inverse">
                        <div class="panel-heading">

                            <h4 class="panel-title">Contributors Details</h4>
                        </div>
                        <div class="panel-body">

                            <table id="table" class="table table-striped table-bordered">

                                <thead>
                                    <tr>
                                        <th>User ID</th>
                                        <th>Name</th>

                                        <th>Longitude</th>
                                        <th>Latitude</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    <script>
                                    function add(id,name,longitude,latitude){
                                        $('#table tbody').append('<tr><td id=in'+id+'>'+id+'</td><td id=name'+id+'>'+name+'</td><td id=lon'+id+'>'+longitude+'</td><td id=lat'+id+'>'+latitude+'</td></tr>');
                                    }


                                    </script>

                                </tbody>
                            </table>

                        </div>
                    </div>
                    <!-- end panel -->
                </div>
                <!-- end col-12 -->
            </div>
            <!-- end row -->
        </div>
        <!-- end #content -->

        <!-- begin scroll to top btn -->
        <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
        <!-- end scroll to top btn -->
    </div>
    <!-- end page container -->


    <!-- ################################################################################################################################################ -->



    <!-- ================== BEGIN BASE JS ================== -->
    <% include static/base.ejs %>

    <!-- ================== END PAGE LEVEL JS ================== -->

    <script>
    $(document).ready(function () {


        App.init();
        TableManageDefault.init();
        $('#myModal1').modal({
            show: true
        });
        $("#loadingDiv").hide();

        $('#Refinbox').click(function () {
            $("#loadingDiv").show();
        });
        //$('#myModal1').modal('show');
        //document.forms['mf2'].submit()


    });
    </script>
    <script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '../../../../www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-53034621-1', 'auto');
    ga('send', 'pageview');
    </script>





</body>

</html>
